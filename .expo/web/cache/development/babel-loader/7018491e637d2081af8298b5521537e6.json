{"ast":null,"code":"\"use strict\";\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar _jsxFileName = \"C:\\\\distribuidas\\\\apps\\\\sarasapp\\\\node_modules\\\\react-native-image-zoom-viewer\\\\built\\\\image-viewer.component.js\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || Object.assign || function (t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n\n    for (var p in s) {\n      if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n  }\n\n  return t;\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar react_native_1 = require(\"react-native-web/dist/index\");\n\nvar react_native_image_pan_zoom_1 = require(\"react-native-image-pan-zoom\");\n\nvar image_viewer_style_1 = require(\"./image-viewer.style\");\n\nvar image_viewer_type_1 = require(\"./image-viewer.type\");\n\nvar ImageViewer = function (_super) {\n  __extends(ImageViewer, _super);\n\n  function ImageViewer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = new image_viewer_type_1.State();\n    _this.fadeAnim = new react_native_1.Animated.Value(0);\n    _this.standardPositionX = 0;\n    _this.positionXNumber = 0;\n    _this.positionX = new react_native_1.Animated.Value(0);\n    _this.width = 0;\n    _this.height = 0;\n    _this.styles = image_viewer_style_1.default(0, 0, 'transparent');\n    _this.hasLayout = false;\n    _this.loadedIndex = new Map();\n    _this.handleLongPressWithIndex = new Map();\n    _this.imageRefs = [];\n\n    _this.resetImageByIndex = function (index) {\n      _this.imageRefs[index] && _this.imageRefs[index].reset();\n    };\n\n    _this.preloadImage = function (index) {\n      if (index < _this.state.imageSizes.length) {\n        _this.loadImage(index + 1);\n      }\n    };\n\n    _this.handleHorizontalOuterRangeOffset = function (offsetX) {\n      if (offsetX === void 0) {\n        offsetX = 0;\n      }\n\n      _this.positionXNumber = _this.standardPositionX + offsetX;\n\n      _this.positionX.setValue(_this.positionXNumber);\n\n      var offsetXRTL = !react_native_1.I18nManager.isRTL ? offsetX : -offsetX;\n\n      if (offsetXRTL < 0) {\n        if (_this.state.currentShowIndex || 0 < _this.props.imageUrls.length - 1) {\n          _this.loadImage((_this.state.currentShowIndex || 0) + 1);\n        }\n      } else if (offsetXRTL > 0) {\n        if (_this.state.currentShowIndex || 0 > 0) {\n          _this.loadImage((_this.state.currentShowIndex || 0) - 1);\n        }\n      }\n    };\n\n    _this.handleResponderRelease = function (vx) {\n      if (vx === void 0) {\n        vx = 0;\n      }\n\n      var vxRTL = react_native_1.I18nManager.isRTL ? -vx : vx;\n      var isLeftMove = react_native_1.I18nManager.isRTL ? _this.positionXNumber - _this.standardPositionX < -(_this.props.flipThreshold || 0) : _this.positionXNumber - _this.standardPositionX > (_this.props.flipThreshold || 0);\n      var isRightMove = react_native_1.I18nManager.isRTL ? _this.positionXNumber - _this.standardPositionX > (_this.props.flipThreshold || 0) : _this.positionXNumber - _this.standardPositionX < -(_this.props.flipThreshold || 0);\n\n      if (vxRTL > 0.7) {\n        _this.goBack.call(_this);\n\n        if (_this.state.currentShowIndex || 0 > 0) {\n          _this.loadImage((_this.state.currentShowIndex || 0) - 1);\n        }\n\n        return;\n      } else if (vxRTL < -0.7) {\n        _this.goNext.call(_this);\n\n        if (_this.state.currentShowIndex || 0 < _this.props.imageUrls.length - 1) {\n          _this.loadImage((_this.state.currentShowIndex || 0) + 1);\n        }\n\n        return;\n      }\n\n      if (isLeftMove) {\n        _this.goBack.call(_this);\n      } else if (isRightMove) {\n        _this.goNext.call(_this);\n\n        return;\n      } else {\n        _this.resetPosition.call(_this);\n\n        return;\n      }\n    };\n\n    _this.goBack = function () {\n      if (_this.state.currentShowIndex === 0) {\n        _this.resetPosition.call(_this);\n\n        return;\n      }\n\n      _this.positionXNumber = !react_native_1.I18nManager.isRTL ? _this.standardPositionX + _this.width : _this.standardPositionX - _this.width;\n      _this.standardPositionX = _this.positionXNumber;\n      react_native_1.Animated.timing(_this.positionX, {\n        toValue: _this.positionXNumber,\n        duration: _this.props.pageAnimateTime\n      }).start();\n      var nextIndex = (_this.state.currentShowIndex || 0) - 1;\n\n      _this.setState({\n        currentShowIndex: nextIndex\n      }, function () {\n        if (_this.props.onChange) {\n          _this.props.onChange(_this.state.currentShowIndex);\n        }\n      });\n    };\n\n    _this.goNext = function () {\n      if (_this.state.currentShowIndex === _this.props.imageUrls.length - 1) {\n        _this.resetPosition.call(_this);\n\n        return;\n      }\n\n      _this.positionXNumber = !react_native_1.I18nManager.isRTL ? _this.standardPositionX - _this.width : _this.standardPositionX + _this.width;\n      _this.standardPositionX = _this.positionXNumber;\n      react_native_1.Animated.timing(_this.positionX, {\n        toValue: _this.positionXNumber,\n        duration: _this.props.pageAnimateTime\n      }).start();\n      var nextIndex = (_this.state.currentShowIndex || 0) + 1;\n\n      _this.setState({\n        currentShowIndex: nextIndex\n      }, function () {\n        if (_this.props.onChange) {\n          _this.props.onChange(_this.state.currentShowIndex);\n        }\n      });\n    };\n\n    _this.handleLongPress = function (image) {\n      if (_this.props.saveToLocalByLongPress) {\n        _this.setState({\n          isShowMenu: true\n        });\n      }\n\n      if (_this.props.onLongPress) {\n        _this.props.onLongPress(image);\n      }\n    };\n\n    _this.handleClick = function () {\n      if (_this.props.onClick) {\n        _this.props.onClick(_this.handleCancel, _this.state.currentShowIndex);\n      }\n    };\n\n    _this.handleDoubleClick = function () {\n      if (_this.props.onDoubleClick) {\n        _this.props.onDoubleClick(_this.handleCancel);\n      }\n    };\n\n    _this.handleCancel = function () {\n      _this.hasLayout = false;\n\n      if (_this.props.onCancel) {\n        _this.props.onCancel();\n      }\n    };\n\n    _this.handleLayout = function (event) {\n      if (event.nativeEvent.layout.width !== _this.width) {\n        _this.hasLayout = true;\n        _this.width = event.nativeEvent.layout.width;\n        _this.height = event.nativeEvent.layout.height;\n        _this.styles = image_viewer_style_1.default(_this.width, _this.height, _this.props.backgroundColor || 'transparent');\n\n        _this.forceUpdate();\n\n        _this.jumpToCurrentImage();\n      }\n    };\n\n    _this.saveToLocal = function () {\n      if (!_this.props.onSave) {\n        react_native_1.CameraRoll.saveToCameraRoll(_this.props.imageUrls[_this.state.currentShowIndex || 0].url);\n\n        _this.props.onSaveToCamera(_this.state.currentShowIndex);\n      } else {\n        _this.props.onSave(_this.props.imageUrls[_this.state.currentShowIndex || 0].url);\n      }\n\n      _this.setState({\n        isShowMenu: false\n      });\n    };\n\n    _this.handleLeaveMenu = function () {\n      _this.setState({\n        isShowMenu: false\n      });\n    };\n\n    _this.handleSwipeDown = function () {\n      if (_this.props.onSwipeDown) {\n        _this.props.onSwipeDown();\n      }\n\n      _this.handleCancel();\n    };\n\n    return _this;\n  }\n\n  ImageViewer.prototype.componentDidMount = function () {\n    this.init(this.props);\n  };\n\n  ImageViewer.getDerivedStateFromProps = function (nextProps, prevState) {\n    if (nextProps.index !== prevState.prevIndexProp) {\n      return {\n        currentShowIndex: nextProps.index,\n        prevIndexProp: nextProps.index\n      };\n    }\n\n    return null;\n  };\n\n  ImageViewer.prototype.componentDidUpdate = function (prevProps, prevState) {\n    if (prevProps.index !== this.props.index) {\n      this.loadImage(this.props.index || 0);\n      this.jumpToCurrentImage();\n      react_native_1.Animated.timing(this.fadeAnim, {\n        toValue: 1,\n        duration: 200\n      }).start();\n    }\n  };\n\n  ImageViewer.prototype.init = function (nextProps) {\n    var _this = this;\n\n    if (nextProps.imageUrls.length === 0) {\n      this.fadeAnim.setValue(0);\n      return this.setState(new image_viewer_type_1.State());\n    }\n\n    var imageSizes = [];\n    nextProps.imageUrls.forEach(function (imageUrl) {\n      imageSizes.push({\n        width: imageUrl.width || 0,\n        height: imageUrl.height || 0,\n        status: 'loading'\n      });\n    });\n    this.setState({\n      currentShowIndex: nextProps.index,\n      prevIndexProp: nextProps.index || 0,\n      imageSizes: imageSizes\n    }, function () {\n      _this.loadImage(nextProps.index || 0);\n\n      _this.jumpToCurrentImage();\n\n      react_native_1.Animated.timing(_this.fadeAnim, {\n        toValue: 1,\n        duration: 200\n      }).start();\n    });\n  };\n\n  ImageViewer.prototype.jumpToCurrentImage = function () {\n    this.positionXNumber = this.width * (this.state.currentShowIndex || 0) * (react_native_1.I18nManager.isRTL ? 1 : -1);\n    this.standardPositionX = this.positionXNumber;\n    this.positionX.setValue(this.positionXNumber);\n  };\n\n  ImageViewer.prototype.loadImage = function (index) {\n    var _this = this;\n\n    if (!this.state.imageSizes[index]) {\n      return;\n    }\n\n    if (this.loadedIndex.has(index)) {\n      return;\n    }\n\n    this.loadedIndex.set(index, true);\n    var image = this.props.imageUrls[index];\n\n    var imageStatus = __assign({}, this.state.imageSizes[index]);\n\n    var saveImageSize = function saveImageSize() {\n      if (_this.state.imageSizes[index] && _this.state.imageSizes[index].status !== 'loading') {\n        return;\n      }\n\n      var imageSizes = _this.state.imageSizes.slice();\n\n      imageSizes[index] = imageStatus;\n\n      _this.setState({\n        imageSizes: imageSizes\n      });\n    };\n\n    if (this.state.imageSizes[index].status === 'success') {\n      return;\n    }\n\n    if (this.state.imageSizes[index].width > 0 && this.state.imageSizes[index].height > 0) {\n      imageStatus.status = 'success';\n      saveImageSize();\n      return;\n    }\n\n    var sizeLoaded = false;\n    var imageLoaded = false;\n\n    if (!image.url || image.url.startsWith(\"file:\")) {\n      imageLoaded = true;\n    }\n\n    if (image.width && image.height) {\n      if (this.props.enablePreload && imageLoaded === false) {\n        react_native_1.Image.prefetch(image.url);\n      }\n\n      imageStatus.width = image.width;\n      imageStatus.height = image.height;\n      imageStatus.status = 'success';\n      saveImageSize();\n      return;\n    }\n\n    react_native_1.Image.getSize(image.url, function (width, height) {\n      imageStatus.width = width;\n      imageStatus.height = height;\n      imageStatus.status = 'success';\n      saveImageSize();\n    }, function () {\n      try {\n        var data = react_native_1.Image.resolveAssetSource(image.props.source);\n        imageStatus.width = data.width;\n        imageStatus.height = data.height;\n        imageStatus.status = 'success';\n        saveImageSize();\n      } catch (newError) {\n        imageStatus.status = 'fail';\n        saveImageSize();\n      }\n    });\n  };\n\n  ImageViewer.prototype.resetPosition = function () {\n    this.positionXNumber = this.standardPositionX;\n    react_native_1.Animated.timing(this.positionX, {\n      toValue: this.standardPositionX,\n      duration: 150\n    }).start();\n  };\n\n  ImageViewer.prototype.getContent = function () {\n    var _this = this;\n\n    var screenWidth = this.width;\n    var screenHeight = this.height;\n    var ImageElements = this.props.imageUrls.map(function (image, index) {\n      if ((_this.state.currentShowIndex || 0) > index + 1 || (_this.state.currentShowIndex || 0) < index - 1) {\n        return React.createElement(react_native_1.View, {\n          key: index,\n          style: {\n            width: screenWidth,\n            height: screenHeight\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 24\n          }\n        });\n      }\n\n      if (!_this.handleLongPressWithIndex.has(index)) {\n        _this.handleLongPressWithIndex.set(index, _this.handleLongPress.bind(_this, image));\n      }\n\n      var width = _this.state.imageSizes[index] && _this.state.imageSizes[index].width;\n      var height = _this.state.imageSizes[index] && _this.state.imageSizes[index].height;\n      var imageInfo = _this.state.imageSizes[index];\n\n      if (!imageInfo || !imageInfo.status) {\n        return React.createElement(react_native_1.View, {\n          key: index,\n          style: {\n            width: screenWidth,\n            height: screenHeight\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 24\n          }\n        });\n      }\n\n      if (width > screenWidth) {\n        var widthPixel = screenWidth / width;\n        width *= widthPixel;\n        height *= widthPixel;\n      }\n\n      if (height > screenHeight) {\n        var HeightPixel = screenHeight / height;\n        width *= HeightPixel;\n        height *= HeightPixel;\n      }\n\n      var Wrapper = function Wrapper(_a) {\n        var children = _a.children,\n            others = __rest(_a, [\"children\"]);\n\n        return React.createElement(react_native_image_pan_zoom_1.default, _extends({\n          cropWidth: _this.width,\n          cropHeight: _this.height,\n          maxOverflow: _this.props.maxOverflow,\n          horizontalOuterRangeOffset: _this.handleHorizontalOuterRangeOffset,\n          responderRelease: _this.handleResponderRelease,\n          onMove: _this.props.onMove,\n          onLongPress: _this.handleLongPressWithIndex.get(index),\n          onClick: _this.handleClick,\n          onDoubleClick: _this.handleDoubleClick,\n          enableSwipeDown: _this.props.enableSwipeDown,\n          swipeDownThreshold: _this.props.swipeDownThreshold,\n          onSwipeDown: _this.handleSwipeDown,\n          pinchToZoom: _this.props.enableImageZoom,\n          enableDoubleClickZoom: _this.props.enableImageZoom,\n          doubleClickInterval: _this.props.doubleClickInterval\n        }, others, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 25\n          }\n        }), children);\n      };\n\n      switch (imageInfo.status) {\n        case 'loading':\n          return React.createElement(Wrapper, {\n            key: index,\n            style: __assign({}, _this.styles.modalContainer, _this.styles.loadingContainer),\n            imageWidth: screenWidth,\n            imageHeight: screenHeight,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 29\n            }\n          }, React.createElement(react_native_1.View, {\n            style: _this.styles.loadingContainer,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 15\n            }\n          }, _this.props.loadingRender()));\n\n        case 'success':\n          if (!image.props) {\n            image.props = {};\n          }\n\n          if (!image.props.style) {\n            image.props.style = {};\n          }\n\n          image.props.style = __assign({}, _this.styles.imageStyle, image.props.style, {\n            width: width,\n            height: height\n          });\n\n          if (typeof image.props.source === 'number') {} else {\n            if (!image.props.source) {\n              image.props.source = {};\n            }\n\n            image.props.source = __assign({\n              uri: image.url\n            }, image.props.source);\n          }\n\n          if (_this.props.enablePreload) {\n            _this.preloadImage(_this.state.currentShowIndex || 0);\n          }\n\n          return React.createElement(react_native_image_pan_zoom_1.default, {\n            key: index,\n            ref: function ref(el) {\n              return _this.imageRefs[index] = el;\n            },\n            cropWidth: _this.width,\n            cropHeight: _this.height,\n            maxOverflow: _this.props.maxOverflow,\n            horizontalOuterRangeOffset: _this.handleHorizontalOuterRangeOffset,\n            responderRelease: _this.handleResponderRelease,\n            onMove: _this.props.onMove,\n            onLongPress: _this.handleLongPressWithIndex.get(index),\n            onClick: _this.handleClick,\n            onDoubleClick: _this.handleDoubleClick,\n            imageWidth: width,\n            imageHeight: height,\n            enableSwipeDown: _this.props.enableSwipeDown,\n            swipeDownThreshold: _this.props.swipeDownThreshold,\n            onSwipeDown: _this.handleSwipeDown,\n            panToMove: !_this.state.isShowMenu,\n            pinchToZoom: _this.props.enableImageZoom && !_this.state.isShowMenu,\n            enableDoubleClickZoom: _this.props.enableImageZoom && !_this.state.isShowMenu,\n            doubleClickInterval: _this.props.doubleClickInterval,\n            minScale: _this.props.minScale,\n            maxScale: _this.props.maxScale,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 29\n            }\n          }, _this.props.renderImage(image.props));\n\n        case 'fail':\n          return React.createElement(Wrapper, {\n            key: index,\n            style: _this.styles.modalContainer,\n            imageWidth: _this.props.failImageSource ? _this.props.failImageSource.width : screenWidth,\n            imageHeight: _this.props.failImageSource ? _this.props.failImageSource.height : screenHeight,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 29\n            }\n          }, _this.props.failImageSource && _this.props.renderImage({\n            source: {\n              uri: _this.props.failImageSource.url\n            },\n            style: {\n              width: _this.props.failImageSource.width,\n              height: _this.props.failImageSource.height\n            }\n          }));\n      }\n    });\n    return React.createElement(react_native_1.Animated.View, {\n      style: {\n        zIndex: 9\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 17\n      }\n    }, React.createElement(react_native_1.Animated.View, {\n      style: __assign({}, this.styles.container, {\n        opacity: this.fadeAnim\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 9\n      }\n    }, this.props.renderHeader(this.state.currentShowIndex), React.createElement(react_native_1.View, {\n      style: this.styles.arrowLeftContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 11\n      }\n    }, React.createElement(react_native_1.TouchableWithoutFeedback, {\n      onPress: this.goBack,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 13\n      }\n    }, React.createElement(react_native_1.View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 15\n      }\n    }, this.props.renderArrowLeft()))), React.createElement(react_native_1.View, {\n      style: this.styles.arrowRightContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 11\n      }\n    }, React.createElement(react_native_1.TouchableWithoutFeedback, {\n      onPress: this.goNext,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 13\n      }\n    }, React.createElement(react_native_1.View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 15\n      }\n    }, this.props.renderArrowRight()))), React.createElement(react_native_1.Animated.View, {\n      style: __assign({}, this.styles.moveBox, {\n        transform: [{\n          translateX: this.positionX\n        }],\n        width: this.width * this.props.imageUrls.length\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 11\n      }\n    }, ImageElements), this.props.renderIndicator((this.state.currentShowIndex || 0) + 1, this.props.imageUrls.length), this.props.imageUrls[this.state.currentShowIndex || 0] && this.props.imageUrls[this.state.currentShowIndex || 0].originSizeKb && this.props.imageUrls[this.state.currentShowIndex || 0].originUrl && React.createElement(react_native_1.View, {\n      style: this.styles.watchOrigin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 82\n      }\n    }, React.createElement(react_native_1.TouchableOpacity, {\n      style: this.styles.watchOriginTouchable,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 17\n      }\n    }, React.createElement(react_native_1.Text, {\n      style: this.styles.watchOriginText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 19\n      }\n    }, \"\\u67E5\\u770B\\u539F\\u56FE(2M)\"))), React.createElement(react_native_1.View, {\n      style: [{\n        bottom: 0,\n        position: 'absolute',\n        zIndex: 9\n      }, this.props.footerContainerStyle],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 11\n      }\n    }, this.props.renderFooter(this.state.currentShowIndex || 0))));\n  };\n\n  ImageViewer.prototype.getMenu = function () {\n    if (!this.state.isShowMenu) {\n      return null;\n    }\n\n    if (this.props.menus) {\n      return React.createElement(react_native_1.View, {\n        style: this.styles.menuContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 21\n        }\n      }, this.props.menus({\n        cancel: this.handleLeaveMenu,\n        saveToLocal: this.saveToLocal\n      }));\n    }\n\n    return React.createElement(react_native_1.View, {\n      style: this.styles.menuContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 17\n      }\n    }, React.createElement(react_native_1.View, {\n      style: this.styles.menuShadow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 9\n      }\n    }), React.createElement(react_native_1.View, {\n      style: this.styles.menuContent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 9\n      }\n    }, React.createElement(react_native_1.TouchableHighlight, {\n      underlayColor: \"#F2F2F2\",\n      onPress: this.saveToLocal,\n      style: this.styles.operateContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 11\n      }\n    }, React.createElement(react_native_1.Text, {\n      style: this.styles.operateText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 13\n      }\n    }, this.props.menuContext.saveToLocal)), React.createElement(react_native_1.TouchableHighlight, {\n      underlayColor: \"#F2F2F2\",\n      onPress: this.handleLeaveMenu,\n      style: this.styles.operateContainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 11\n      }\n    }, React.createElement(react_native_1.Text, {\n      style: this.styles.operateText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 13\n      }\n    }, this.props.menuContext.cancel))));\n  };\n\n  ImageViewer.prototype.render = function () {\n    var childs = null;\n    childs = React.createElement(react_native_1.View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 19\n      }\n    }, this.getContent(), this.getMenu());\n    return React.createElement(react_native_1.View, {\n      onLayout: this.handleLayout,\n      style: __assign({\n        flex: 1,\n        overflow: 'hidden'\n      }, this.props.style),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 17\n      }\n    }, childs);\n  };\n\n  ImageViewer.defaultProps = new image_viewer_type_1.Props();\n  return ImageViewer;\n}(React.Component);\n\nexports.default = ImageViewer;","map":{"version":3,"sources":["../src/image-viewer.component.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar react_native_1 = require(\"react-native\");\nvar react_native_image_pan_zoom_1 = require(\"react-native-image-pan-zoom\");\nvar image_viewer_style_1 = require(\"./image-viewer.style\");\nvar image_viewer_type_1 = require(\"./image-viewer.type\");\nvar ImageViewer = /** @class */ (function (_super) {\n    __extends(ImageViewer, _super);\n    function ImageViewer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = new image_viewer_type_1.State();\n        // 背景透明度渐变动画\n        _this.fadeAnim = new react_native_1.Animated.Value(0);\n        // 当前基准位置\n        _this.standardPositionX = 0;\n        // 整体位移，用来切换图片用\n        _this.positionXNumber = 0;\n        _this.positionX = new react_native_1.Animated.Value(0);\n        _this.width = 0;\n        _this.height = 0;\n        _this.styles = image_viewer_style_1.default(0, 0, 'transparent');\n        // 是否执行过 layout. fix 安卓不断触发 onLayout 的 bug\n        _this.hasLayout = false;\n        // 记录已加载的图片 index\n        _this.loadedIndex = new Map();\n        _this.handleLongPressWithIndex = new Map();\n        _this.imageRefs = [];\n        /**\n         * reset Image scale and position\n         */\n        _this.resetImageByIndex = function (index) {\n            _this.imageRefs[index] && _this.imageRefs[index].reset();\n        };\n        /**\n         * 预加载图片\n         */\n        _this.preloadImage = function (index) {\n            if (index < _this.state.imageSizes.length) {\n                _this.loadImage(index + 1);\n            }\n        };\n        /**\n         * 触发溢出水平滚动\n         */\n        _this.handleHorizontalOuterRangeOffset = function (offsetX) {\n            if (offsetX === void 0) { offsetX = 0; }\n            _this.positionXNumber = _this.standardPositionX + offsetX;\n            _this.positionX.setValue(_this.positionXNumber);\n            var offsetXRTL = !react_native_1.I18nManager.isRTL ? offsetX : -offsetX;\n            if (offsetXRTL < 0) {\n                if (_this.state.currentShowIndex || 0 < _this.props.imageUrls.length - 1) {\n                    _this.loadImage((_this.state.currentShowIndex || 0) + 1);\n                }\n            }\n            else if (offsetXRTL > 0) {\n                if (_this.state.currentShowIndex || 0 > 0) {\n                    _this.loadImage((_this.state.currentShowIndex || 0) - 1);\n                }\n            }\n        };\n        /**\n         * 手势结束，但是没有取消浏览大图\n         */\n        _this.handleResponderRelease = function (vx) {\n            if (vx === void 0) { vx = 0; }\n            var vxRTL = react_native_1.I18nManager.isRTL ? -vx : vx;\n            var isLeftMove = react_native_1.I18nManager.isRTL\n                ? _this.positionXNumber - _this.standardPositionX < -(_this.props.flipThreshold || 0)\n                : _this.positionXNumber - _this.standardPositionX > (_this.props.flipThreshold || 0);\n            var isRightMove = react_native_1.I18nManager.isRTL\n                ? _this.positionXNumber - _this.standardPositionX > (_this.props.flipThreshold || 0)\n                : _this.positionXNumber - _this.standardPositionX < -(_this.props.flipThreshold || 0);\n            if (vxRTL > 0.7) {\n                // 上一张\n                _this.goBack.call(_this);\n                // 这里可能没有触发溢出滚动，为了防止图片不被加载，调用加载图片\n                if (_this.state.currentShowIndex || 0 > 0) {\n                    _this.loadImage((_this.state.currentShowIndex || 0) - 1);\n                }\n                return;\n            }\n            else if (vxRTL < -0.7) {\n                // 下一张\n                _this.goNext.call(_this);\n                if (_this.state.currentShowIndex || 0 < _this.props.imageUrls.length - 1) {\n                    _this.loadImage((_this.state.currentShowIndex || 0) + 1);\n                }\n                return;\n            }\n            if (isLeftMove) {\n                // 上一张\n                _this.goBack.call(_this);\n            }\n            else if (isRightMove) {\n                // 下一张\n                _this.goNext.call(_this);\n                return;\n            }\n            else {\n                // 回到之前的位置\n                _this.resetPosition.call(_this);\n                return;\n            }\n        };\n        /**\n         * 到上一张\n         */\n        _this.goBack = function () {\n            if (_this.state.currentShowIndex === 0) {\n                // 回到之前的位置\n                _this.resetPosition.call(_this);\n                return;\n            }\n            _this.positionXNumber = !react_native_1.I18nManager.isRTL\n                ? _this.standardPositionX + _this.width\n                : _this.standardPositionX - _this.width;\n            _this.standardPositionX = _this.positionXNumber;\n            react_native_1.Animated.timing(_this.positionX, {\n                toValue: _this.positionXNumber,\n                duration: _this.props.pageAnimateTime\n            }).start();\n            var nextIndex = (_this.state.currentShowIndex || 0) - 1;\n            _this.setState({\n                currentShowIndex: nextIndex\n            }, function () {\n                if (_this.props.onChange) {\n                    _this.props.onChange(_this.state.currentShowIndex);\n                }\n            });\n        };\n        /**\n         * 到下一张\n         */\n        _this.goNext = function () {\n            if (_this.state.currentShowIndex === _this.props.imageUrls.length - 1) {\n                // 回到之前的位置\n                _this.resetPosition.call(_this);\n                return;\n            }\n            _this.positionXNumber = !react_native_1.I18nManager.isRTL\n                ? _this.standardPositionX - _this.width\n                : _this.standardPositionX + _this.width;\n            _this.standardPositionX = _this.positionXNumber;\n            react_native_1.Animated.timing(_this.positionX, {\n                toValue: _this.positionXNumber,\n                duration: _this.props.pageAnimateTime\n            }).start();\n            var nextIndex = (_this.state.currentShowIndex || 0) + 1;\n            _this.setState({\n                currentShowIndex: nextIndex\n            }, function () {\n                if (_this.props.onChange) {\n                    _this.props.onChange(_this.state.currentShowIndex);\n                }\n            });\n        };\n        /**\n         * 长按\n         */\n        _this.handleLongPress = function (image) {\n            if (_this.props.saveToLocalByLongPress) {\n                // 出现保存到本地的操作框\n                _this.setState({ isShowMenu: true });\n            }\n            if (_this.props.onLongPress) {\n                _this.props.onLongPress(image);\n            }\n        };\n        /**\n         * 单击\n         */\n        _this.handleClick = function () {\n            if (_this.props.onClick) {\n                _this.props.onClick(_this.handleCancel, _this.state.currentShowIndex);\n            }\n        };\n        /**\n         * 双击\n         */\n        _this.handleDoubleClick = function () {\n            if (_this.props.onDoubleClick) {\n                _this.props.onDoubleClick(_this.handleCancel);\n            }\n        };\n        /**\n         * 退出\n         */\n        _this.handleCancel = function () {\n            _this.hasLayout = false;\n            if (_this.props.onCancel) {\n                _this.props.onCancel();\n            }\n        };\n        /**\n         * 完成布局\n         */\n        _this.handleLayout = function (event) {\n            if (event.nativeEvent.layout.width !== _this.width) {\n                _this.hasLayout = true;\n                _this.width = event.nativeEvent.layout.width;\n                _this.height = event.nativeEvent.layout.height;\n                _this.styles = image_viewer_style_1.default(_this.width, _this.height, _this.props.backgroundColor || 'transparent');\n                // 强制刷新\n                _this.forceUpdate();\n                _this.jumpToCurrentImage();\n            }\n        };\n        /**\n         * 保存当前图片到本地相册\n         */\n        _this.saveToLocal = function () {\n            if (!_this.props.onSave) {\n                react_native_1.CameraRoll.saveToCameraRoll(_this.props.imageUrls[_this.state.currentShowIndex || 0].url);\n                _this.props.onSaveToCamera(_this.state.currentShowIndex);\n            }\n            else {\n                _this.props.onSave(_this.props.imageUrls[_this.state.currentShowIndex || 0].url);\n            }\n            _this.setState({ isShowMenu: false });\n        };\n        _this.handleLeaveMenu = function () {\n            _this.setState({ isShowMenu: false });\n        };\n        _this.handleSwipeDown = function () {\n            if (_this.props.onSwipeDown) {\n                _this.props.onSwipeDown();\n            }\n            _this.handleCancel();\n        };\n        return _this;\n    }\n    ImageViewer.prototype.componentDidMount = function () {\n        this.init(this.props);\n    };\n    ImageViewer.getDerivedStateFromProps = function (nextProps, prevState) {\n        if (nextProps.index !== prevState.prevIndexProp) {\n            return { currentShowIndex: nextProps.index, prevIndexProp: nextProps.index };\n        }\n        return null;\n    };\n    ImageViewer.prototype.componentDidUpdate = function (prevProps, prevState) {\n        if (prevProps.index !== this.props.index) {\n            // 立刻预加载要看的图\n            this.loadImage(this.props.index || 0);\n            this.jumpToCurrentImage();\n            // 显示动画\n            react_native_1.Animated.timing(this.fadeAnim, {\n                toValue: 1,\n                duration: 200\n            }).start();\n        }\n    };\n    /**\n     * props 有变化时执行\n     */\n    ImageViewer.prototype.init = function (nextProps) {\n        var _this = this;\n        if (nextProps.imageUrls.length === 0) {\n            // 隐藏时候清空\n            this.fadeAnim.setValue(0);\n            return this.setState(new image_viewer_type_1.State());\n        }\n        // 给 imageSizes 塞入空数组\n        var imageSizes = [];\n        nextProps.imageUrls.forEach(function (imageUrl) {\n            imageSizes.push({\n                width: imageUrl.width || 0,\n                height: imageUrl.height || 0,\n                status: 'loading'\n            });\n        });\n        this.setState({\n            currentShowIndex: nextProps.index,\n            prevIndexProp: nextProps.index || 0,\n            imageSizes: imageSizes\n        }, function () {\n            // 立刻预加载要看的图\n            _this.loadImage(nextProps.index || 0);\n            _this.jumpToCurrentImage();\n            // 显示动画\n            react_native_1.Animated.timing(_this.fadeAnim, {\n                toValue: 1,\n                duration: 200\n            }).start();\n        });\n    };\n    /**\n     * 调到当前看图位置\n     */\n    ImageViewer.prototype.jumpToCurrentImage = function () {\n        // 跳到当前图的位置\n        this.positionXNumber = this.width * (this.state.currentShowIndex || 0) * (react_native_1.I18nManager.isRTL ? 1 : -1);\n        this.standardPositionX = this.positionXNumber;\n        this.positionX.setValue(this.positionXNumber);\n    };\n    /**\n     * 加载图片，主要是获取图片长与宽\n     */\n    ImageViewer.prototype.loadImage = function (index) {\n        var _this = this;\n        if (!this.state.imageSizes[index]) {\n            return;\n        }\n        if (this.loadedIndex.has(index)) {\n            return;\n        }\n        this.loadedIndex.set(index, true);\n        var image = this.props.imageUrls[index];\n        var imageStatus = __assign({}, this.state.imageSizes[index]);\n        // 保存 imageSize\n        var saveImageSize = function () {\n            // 如果已经 success 了，就不做处理\n            if (_this.state.imageSizes[index] && _this.state.imageSizes[index].status !== 'loading') {\n                return;\n            }\n            var imageSizes = _this.state.imageSizes.slice();\n            imageSizes[index] = imageStatus;\n            _this.setState({ imageSizes: imageSizes });\n        };\n        if (this.state.imageSizes[index].status === 'success') {\n            // 已经加载过就不会加载了\n            return;\n        }\n        // 如果已经有宽高了，直接设置为 success\n        if (this.state.imageSizes[index].width > 0 && this.state.imageSizes[index].height > 0) {\n            imageStatus.status = 'success';\n            saveImageSize();\n            return;\n        }\n        // 是否加载完毕了图片大小\n        var sizeLoaded = false;\n        // 是否加载完毕了图片\n        var imageLoaded = false;\n        // Tagged success if url is started with file:, or not set yet(for custom source.uri).\n        if (!image.url || image.url.startsWith(\"file:\")) {\n            imageLoaded = true;\n        }\n        // 如果已知源图片宽高，直接设置为 success\n        if (image.width && image.height) {\n            if (this.props.enablePreload && imageLoaded === false) {\n                react_native_1.Image.prefetch(image.url);\n            }\n            imageStatus.width = image.width;\n            imageStatus.height = image.height;\n            imageStatus.status = 'success';\n            saveImageSize();\n            return;\n        }\n        react_native_1.Image.getSize(image.url, function (width, height) {\n            imageStatus.width = width;\n            imageStatus.height = height;\n            imageStatus.status = 'success';\n            saveImageSize();\n        }, function () {\n            try {\n                var data = react_native_1.Image.resolveAssetSource(image.props.source);\n                imageStatus.width = data.width;\n                imageStatus.height = data.height;\n                imageStatus.status = 'success';\n                saveImageSize();\n            }\n            catch (newError) {\n                // Give up..\n                imageStatus.status = 'fail';\n                saveImageSize();\n            }\n        });\n    };\n    /**\n     * 回到原位\n     */\n    ImageViewer.prototype.resetPosition = function () {\n        this.positionXNumber = this.standardPositionX;\n        react_native_1.Animated.timing(this.positionX, {\n            toValue: this.standardPositionX,\n            duration: 150\n        }).start();\n    };\n    /**\n     * 获得整体内容\n     */\n    ImageViewer.prototype.getContent = function () {\n        var _this = this;\n        // 获得屏幕宽高\n        var screenWidth = this.width;\n        var screenHeight = this.height;\n        var ImageElements = this.props.imageUrls.map(function (image, index) {\n            if ((_this.state.currentShowIndex || 0) > index + 1 || (_this.state.currentShowIndex || 0) < index - 1) {\n                return <react_native_1.View key={index} style={{ width: screenWidth, height: screenHeight }}/>;\n            }\n            if (!_this.handleLongPressWithIndex.has(index)) {\n                _this.handleLongPressWithIndex.set(index, _this.handleLongPress.bind(_this, image));\n            }\n            var width = _this.state.imageSizes[index] && _this.state.imageSizes[index].width;\n            var height = _this.state.imageSizes[index] && _this.state.imageSizes[index].height;\n            var imageInfo = _this.state.imageSizes[index];\n            if (!imageInfo || !imageInfo.status) {\n                return <react_native_1.View key={index} style={{ width: screenWidth, height: screenHeight }}/>;\n            }\n            // 如果宽大于屏幕宽度,整体缩放到宽度是屏幕宽度\n            if (width > screenWidth) {\n                var widthPixel = screenWidth / width;\n                width *= widthPixel;\n                height *= widthPixel;\n            }\n            // 如果此时高度还大于屏幕高度,整体缩放到高度是屏幕高度\n            if (height > screenHeight) {\n                var HeightPixel = screenHeight / height;\n                width *= HeightPixel;\n                height *= HeightPixel;\n            }\n            var Wrapper = function (_a) {\n                var children = _a.children, others = __rest(_a, [\"children\"]);\n                return (<react_native_image_pan_zoom_1.default cropWidth={_this.width} cropHeight={_this.height} maxOverflow={_this.props.maxOverflow} horizontalOuterRangeOffset={_this.handleHorizontalOuterRangeOffset} responderRelease={_this.handleResponderRelease} onMove={_this.props.onMove} onLongPress={_this.handleLongPressWithIndex.get(index)} onClick={_this.handleClick} onDoubleClick={_this.handleDoubleClick} enableSwipeDown={_this.props.enableSwipeDown} swipeDownThreshold={_this.props.swipeDownThreshold} onSwipeDown={_this.handleSwipeDown} pinchToZoom={_this.props.enableImageZoom} enableDoubleClickZoom={_this.props.enableImageZoom} doubleClickInterval={_this.props.doubleClickInterval} {...others}>\n          {children}\n        </react_native_image_pan_zoom_1.default>);\n            };\n            switch (imageInfo.status) {\n                case 'loading':\n                    return (<Wrapper key={index} style={__assign({}, _this.styles.modalContainer, _this.styles.loadingContainer)} imageWidth={screenWidth} imageHeight={screenHeight}>\n              <react_native_1.View style={_this.styles.loadingContainer}>{_this.props.loadingRender()}</react_native_1.View>\n            </Wrapper>);\n                case 'success':\n                    if (!image.props) {\n                        image.props = {};\n                    }\n                    if (!image.props.style) {\n                        image.props.style = {};\n                    }\n                    image.props.style = __assign({}, _this.styles.imageStyle, image.props.style, { width: width,\n                        height: height });\n                    if (typeof image.props.source === 'number') {\n                        // source = require(..), doing nothing\n                    }\n                    else {\n                        if (!image.props.source) {\n                            image.props.source = {};\n                        }\n                        image.props.source = __assign({ uri: image.url }, image.props.source);\n                    }\n                    if (_this.props.enablePreload) {\n                        _this.preloadImage(_this.state.currentShowIndex || 0);\n                    }\n                    return (<react_native_image_pan_zoom_1.default key={index} ref={function (el) { return (_this.imageRefs[index] = el); }} cropWidth={_this.width} cropHeight={_this.height} maxOverflow={_this.props.maxOverflow} horizontalOuterRangeOffset={_this.handleHorizontalOuterRangeOffset} responderRelease={_this.handleResponderRelease} onMove={_this.props.onMove} onLongPress={_this.handleLongPressWithIndex.get(index)} onClick={_this.handleClick} onDoubleClick={_this.handleDoubleClick} imageWidth={width} imageHeight={height} enableSwipeDown={_this.props.enableSwipeDown} swipeDownThreshold={_this.props.swipeDownThreshold} onSwipeDown={_this.handleSwipeDown} panToMove={!_this.state.isShowMenu} pinchToZoom={_this.props.enableImageZoom && !_this.state.isShowMenu} enableDoubleClickZoom={_this.props.enableImageZoom && !_this.state.isShowMenu} doubleClickInterval={_this.props.doubleClickInterval} minScale={_this.props.minScale} maxScale={_this.props.maxScale}>\n              {_this.props.renderImage(image.props)}\n            </react_native_image_pan_zoom_1.default>);\n                case 'fail':\n                    return (<Wrapper key={index} style={_this.styles.modalContainer} imageWidth={_this.props.failImageSource ? _this.props.failImageSource.width : screenWidth} imageHeight={_this.props.failImageSource ? _this.props.failImageSource.height : screenHeight}>\n              {_this.props.failImageSource &&\n                        _this.props.renderImage({\n                            source: {\n                                uri: _this.props.failImageSource.url\n                            },\n                            style: {\n                                width: _this.props.failImageSource.width,\n                                height: _this.props.failImageSource.height\n                            }\n                        })}\n            </Wrapper>);\n            }\n        });\n        return (<react_native_1.Animated.View style={{ zIndex: 9 }}>\n        <react_native_1.Animated.View style={__assign({}, this.styles.container, { opacity: this.fadeAnim })}>\n          {this.props.renderHeader(this.state.currentShowIndex)}\n\n          <react_native_1.View style={this.styles.arrowLeftContainer}>\n            <react_native_1.TouchableWithoutFeedback onPress={this.goBack}>\n              <react_native_1.View>{this.props.renderArrowLeft()}</react_native_1.View>\n            </react_native_1.TouchableWithoutFeedback>\n          </react_native_1.View>\n\n          <react_native_1.View style={this.styles.arrowRightContainer}>\n            <react_native_1.TouchableWithoutFeedback onPress={this.goNext}>\n              <react_native_1.View>{this.props.renderArrowRight()}</react_native_1.View>\n            </react_native_1.TouchableWithoutFeedback>\n          </react_native_1.View>\n\n          <react_native_1.Animated.View style={__assign({}, this.styles.moveBox, { transform: [{ translateX: this.positionX }], width: this.width * this.props.imageUrls.length })}>\n            {ImageElements}\n          </react_native_1.Animated.View>\n          {this.props.renderIndicator((this.state.currentShowIndex || 0) + 1, this.props.imageUrls.length)}\n\n          {this.props.imageUrls[this.state.currentShowIndex || 0] &&\n            this.props.imageUrls[this.state.currentShowIndex || 0].originSizeKb &&\n            this.props.imageUrls[this.state.currentShowIndex || 0].originUrl && (<react_native_1.View style={this.styles.watchOrigin}>\n                <react_native_1.TouchableOpacity style={this.styles.watchOriginTouchable}>\n                  <react_native_1.Text style={this.styles.watchOriginText}>查看原图(2M)</react_native_1.Text>\n                </react_native_1.TouchableOpacity>\n              </react_native_1.View>)}\n          <react_native_1.View style={[{ bottom: 0, position: 'absolute', zIndex: 9 }, this.props.footerContainerStyle]}>\n            {this.props.renderFooter(this.state.currentShowIndex || 0)}\n          </react_native_1.View>\n        </react_native_1.Animated.View>\n      </react_native_1.Animated.View>);\n    };\n    ImageViewer.prototype.getMenu = function () {\n        if (!this.state.isShowMenu) {\n            return null;\n        }\n        if (this.props.menus) {\n            return (<react_native_1.View style={this.styles.menuContainer}>\n          {this.props.menus({ cancel: this.handleLeaveMenu, saveToLocal: this.saveToLocal })}\n        </react_native_1.View>);\n        }\n        return (<react_native_1.View style={this.styles.menuContainer}>\n        <react_native_1.View style={this.styles.menuShadow}/>\n        <react_native_1.View style={this.styles.menuContent}>\n          <react_native_1.TouchableHighlight underlayColor=\"#F2F2F2\" onPress={this.saveToLocal} style={this.styles.operateContainer}>\n            <react_native_1.Text style={this.styles.operateText}>{this.props.menuContext.saveToLocal}</react_native_1.Text>\n          </react_native_1.TouchableHighlight>\n          <react_native_1.TouchableHighlight underlayColor=\"#F2F2F2\" onPress={this.handleLeaveMenu} style={this.styles.operateContainer}>\n            <react_native_1.Text style={this.styles.operateText}>{this.props.menuContext.cancel}</react_native_1.Text>\n          </react_native_1.TouchableHighlight>\n        </react_native_1.View>\n      </react_native_1.View>);\n    };\n    ImageViewer.prototype.render = function () {\n        var childs = null;\n        childs = (<react_native_1.View>\n        {this.getContent()}\n        {this.getMenu()}\n      </react_native_1.View>);\n        return (<react_native_1.View onLayout={this.handleLayout} style={__assign({ flex: 1, overflow: 'hidden' }, this.props.style)}>\n        {childs}\n      </react_native_1.View>);\n    };\n    ImageViewer.defaultProps = new image_viewer_type_1.Props();\n    return ImageViewer;\n}(React.Component));\nexports.default = ImageViewer;\n//# sourceMappingURL=image-viewer.component.js.map"]},"metadata":{},"sourceType":"script"}